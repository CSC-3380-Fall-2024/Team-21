
@model Tiger_Tasks.Models.ForumViewModel
@{
    ViewData["Title"] = "Forum";
}

<h1>Forum</h1>

<a asp-action="Create" class="btn btn-success mb-3">Create New Forum Post</a>

<form method="get" asp-action="Index">
    <label for="postType">Filter by Type:</label>
    <select name="postType" asp-for="SelectedPostType">
        <option value="">All</option>
        <option value="Help Wanted">Help Wanted</option>
        <option value="Help Needed">Help Needed</option>
    </select>

    <label for="serviceType">Filter by Service:</label>
    <select name="serviceType" asp-for="SelectedServiceType">
        <option value="">All</option>
        @foreach (var category in Model.ServiceCategories)
        {
            <option value="@category">@category</option>
        }
    </select>
    
    <button type="submit">Filter</button>
</form>

<ul>
    @foreach (var post in Model.ForumPosts)
    {
        <li>
            <strong>@post.Title</strong> - @post.PostType (@post.ServiceType)<br />
            @post.Content
        </li>
    }
</ul>
